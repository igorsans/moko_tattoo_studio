# üêâ API - Moko Tattoo Studio

Api criada para ser consumida em React.js
(essa api est√° sendo recriada para esse proposito e voc√™ pode encontrar o repositorio original [aqui](https://github.com/Josirocha/moko_tattoo_studio))

Projeto realizado utilizando o [Node.js](https://nodejs.org/en/) com framework [Express](https://expressjs.com/). SQLite foi utilizado como banco de dados do projeto.

## :heavy_check_mark: Pr√©-Requisitos

- [Node.js](https://nodejs.org/en/) - v. 16.15.1
- [NPM](https://www.npmjs.com/package/npm/v/8.11.0) - v. 8.11.0

## :outbox_tray: Packages

- [Express](https://expressjs.com/) - v. 4.18.1
- [Nodemon](https://www.npmjs.com/package/nodemon) - v. 2.0.19
- [SQLite](https://www.npmjs.com/package/sqlite3) - v. 5.0.10
- [Cors](https://www.npmjs.com/package/cors) - v. 2.8.5

## :rocket: Instala√ß√£o da Aplica√ß√£o

Abra o terminal/Powershell e rode os comandos abaixo:

Clonando o reposit√≥rio:

```
git clone https://github.com/igorsans/moko_tattoo_studio
```

Entrando na pasta:

```
cd moko_tattoo_studio
```

Instalando os pacotes:

```
npm install
```

Criando e populando o banco de dados:

```
npm run database
```

Rodando o projeto:

```
npm start
```

## :pencil: Rotas HTTP implementadas

### üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Clientes

- **GET /clientes**

  Retorna todos os dados do banco. Esquema da resposta:

  ```json
  {
    "Usuarios": [
      {
        "id": 1,
        "nome": "Eug√™nio Oliveira",
        "telefone": "21-994785122"
      },
      {
        "id": 2,
        "nome": "Ol√≠via Ribeiro",
        "telefone": "21-988796335"
      },
      {
        "id": 3,
        "nome": "Mirtes Faria Lima",
        "telefone": "21-974659987"
      }
    ]
  }
  ```

- **GET /clientes/{id}**

  Retorna o cliente correspondente ao id. Esquema da resposta:

  ```json
  {
    {
    "dados": {
        "id": 1,
        "nome": "Eug√™nio Oliveira",
        "telefone": "21-994785122"
    }
    }
  }
  ```

- **POST /clientes**

  Insere um cliente na base de dados. Esquema da requisi√ß√£o:

  ```json
  {
    "nome": "Manuela Esteves",
    "telefone": "21-992246521"
  }
  ```

  Esquema da resposta

  ```json
  {
    "newUser": {
      "msg": "Usu√°rio Manuela Esteves inserido com sucesso",
      "erro": false
    }
  }
  ```

- **PUT /clientes/{id}**

  Atualiza um cliente de acordo com o id. Esquema da requisi√ß√£o:

  ```json
  {
    "nome": "Maria Esteves",
    "telefone": "21-992246521"
  }
  ```

  Esquema da resposta:

  ```json
  {
    "msg": "Usu√°rio Maria Esteves, com id 1 atualizado com sucesso",
    "erro": false
  }
  ```

- **DELETE /clientes/{id}**

  Deleta um cliente de acordo com o id. Esquema da resposta:

  ```json
  {
    "msg": "Usu√°rio 1 deletado com sucesso!",
    "erro": "false"
  }
  ```

### üì∏ Tatuagens

- **GET/tatuagens**

  <p>Retorna todos os dados do banco.<p>
   Esquema da resposta:

  ```json
  {
    "resultado": [
        {
            "id": 1,
            "preco": 200,
            "imagemUrl": "https://d5y9g7a5.rocketcdn.me/wp-content/uploads/2021/01/tatuagens-realistas-desenhos-impressionantes-para-te-inspirar-960x658.jpg",
            "nomeTatuador": "Guilherme Cordeiro",
            "disponivel": 1,
            "idComprador": 0
        },
        {
            "id": 2,
            "preco": 250,
            "imagemUrl": "https://blog.pajaris.com.br/wp-content/uploads/2021/02/tatuagem-maori-26.jpg",
            "nomeTatuador": "Pedro Garrido",
            "disponivel": 1,
            "idComprador": 0
        } ...
    ],
    "error": false
  }
  ```

- **GET /tatuagens/{id}**

  <p> Retorna a imagem correspondente ao id.<p> 
  Esquema da resposta:

  ```json
  {
    "resultado": {
      "id": 2,
      "preco": 250,
      "imagemUrl": "https://blog.pajaris.com.br/wp-content/uploads/2021/02/tatuagem-maori-26.jpg",
      "nomeTatuador": "Pedro Garrido",
      "disponivel": 1,
      "idComprador": 0
    },
    "error": false
  }
  ```

- **POST /tatuagens**

  <p>Insere uma tatuagem na base de dados.<p>

  Esquema da requisi√ß√£o:

  ```json
  {
    {
    "preco": 250,
    "imagemUrl": "https://blog.pajaris.com.br/wp-content/uploads/2021/02/tatuagem-maori-26.jpg",
    "nomeTatuador": "Pedro Garrido",
    "disponivel": 1,
    "idComprador": 0
    }
  }
  ```

  Esquema da resposta

  ```json
  {
    "mensagem": "Tatuagem inserida com sucesso!",
    "error": false
  }
  ```

- **PUT /tatuagens/{id}**

  <p>Atualiza uma imagem de acordo com o id.<p>
  Esquema da requisi√ß√£o:

  ```json
  {
    "preco": 400,
    "imagemUrl": "https://blog.pajaris.com.br/wp-content/uploads/2021/02/tatuagem-maori-26.jpg",
    "nomeTatuador": "Guilherme Cordeiro",
    "disponivel": 1,
    "idComprador": 0
  }
  ```

  Esquema da resposta:

  ```json
  {
    "mensagem": "Tatuagem atualizada com sucesso!",
    "error": false
  }
  ```
- **PUT /tatuagens/clientes/{id}**

  <p>Atualiza uma imagem de acordo com o id.<p>
  Esquema da requisi√ß√£o:

  ```json
  {
    "disponivel": 1,
    "idComprador": 0
  }
  ```

  Esquema da resposta:

  ```json
  {
    "mensagem": "Tatuagem de id 1 atualizada com sucesso!",
    "error": false
  }
  ```


- **DELETE /tatuagens/{id}**

    <p>Deleta uma imagem de acordo com o id.<p> 
    Esquema da resposta:

  ```json
  {
    "mensagem": "Tatuagem deletada com sucesso!",
    "error": false
  }
  ```

  ## Time de desenvolvimento original

  - [Alonso Estevam](https://www.linkedin.com/in/alonso-estevam/)
  - [Beatriz Mioranza](https://www.linkedin.com/in/beatrizmioranza/)
  - [Erika Rodrigues](https://www.linkedin.com/in/erikatav-rodrigues/)
  - [Josiane Rocha](https://www.linkedin.com/in/josiane-r-s-lima-santos/)
  - [Pedro Garrido](https://www.linkedin.com/in/pedro-garrido-1a8482205/)
  - [R√¥mulo Miranda](https://www.linkedin.com/in/romulo-omiranda/)

  ## Time de desenvolvimento atual

  - [Edson Vieira](https://github.com/Edson-7728)
  - [Igor Santos](https://github.com/igorsans)
  - [Guilherme Cordeiro](https://github.com/Dev-DaMata)
  - [Pedro Garrido](https://www.linkedin.com/in/pedro-garrido-1a8482205/)
